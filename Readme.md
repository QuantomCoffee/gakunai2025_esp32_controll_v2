# プログラムについて
大学内のロボットコンテスト用のプログラムです。~~公開目的ではなく共有目的で使ってる...~~

## /srcについて
ここがもちろん書き込まれる場所です。
...ただ都合が悪いことに上下のボードでプロジェクトが共通なんですよね。
なので、testから必要なファイルを持ってきて焼きこむ形式をとっています。
そのために、ここにc++ファイルを追加しても反映されない設定にしてあります。

## 機体の起動方法
[こちら](./docs/Howtorun.md)を見てください。

## 重要：黒白ピン(#16,17)は書き込み時に外そう
~~書き込みに確実に失敗します。~~なんか成功しちゃうけどあんまり良くないです。同様に、シリアルモニターを開きながら書き込むのもやめましょう(こちらは確実に失敗します。13敗)。

## プログラムについて
### フォルダ
- `/docs/`
  ばらばらだった文書やマニュアルをまとめた場所です。詳しい話はここに載ってます。
- `/test/alpha` 
  自律制御の実装前(v0.5.000まで)のプログラムです。9/20時点ではこのプログラムを使用していました。
  通信規格等が一部異なります。また、アームの動作確認ができない時期に更新終了しているため、アームは動かないことが予想されています。
- `/test/beta`
  自律制御対応に向けて変更を加えているプログラムです。9/22以降の更新はこちらのみ更新しています。
### フォルダの内容
- `lower.cpp` 足回り側(通称下半身)の制御を行うESP32用のプログラムです。main(後述)の指示に従い動きます。
  - モータートルク過剰による動作速度の問題から、0.55倍にする制限がかかっています。
- `main.cpp` アーム側(通称上半身)の制御と全体の総括を行うESP32用のプログラムです。前述のlowerに指示を出します。指示の出し方に欠陥があると思います、おそらく。
  - 操縦方法を変えたい場合は Slack か口頭か Issue かPull Requestでぶん投げてください。ここの**途中**に#defineってめっちゃ書いてるらへんが設定してる場所です。
  - アームの稼働位置制限を現状0.0mmに設定しています。アームが物理的に完成した場合は変更します。
- `memo` 通信規格のメモです。lowerからmainに流す指示もこの形式をとります。
  - alphaでは自律制御をしなかったため判明しなかった問題を加味し、betaのほうではデータの長さ、内容などに調整が加わっています。