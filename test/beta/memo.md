# 通信方式
**注意：betaと違い、内容が長くなってるので注意してください。**

## 通信内容
### 01: 0x58
固定です。

### 02: A命令種類
後述の下側ESP32命令一覧から命令を選びます。

### 03-05: A命令データ
命令の内容を記述します。

### 06: B命令種類
後述の上側ESP32命令一覧から命令を選びます。

### 07-08: B命令データ
命令の内容を記述します

### 09: チェックサム
チェックサムです。一般的な足しまくった後に残った下1バイトのそれ。

## 命令一覧
### 下側ESP32
#### 0x0 システム系
0x00: 信号が不明/停止します[^nothing]
0x01: とりあえず生きてます[^nothing]
#### 0x2 足回り操縦
0x20: 足回りの平行移動 [ X成分[^adj] , Y成分[^adj] , 速度成分 ]
0x21: 足回りの回転移動 [ 0x00,0x00, 時計回りの速度成分[^adj] ]
0x2f: 足回りを停止させます[^nothing]
#### 0x7 システム系
0x7f: エラー [ 0xff, 0xff, 0xff ]

### 上側ESP32
#### 0x0 システム系
0x00: 特にすることなし[^nothing]
#### 0x3 アーム系
0x30: アーム先端の位置を変えます [ X座標[^adj], Y座標[^adj] ] (相対)
0x31: アーム根本の位置を変えます [ 前後方向位置[^adj], 速度上限%[^adj] ]
0x32: アーム先端を開く、または閉じます [ 開き具合%, 速度上限%[^adj] ]
0x3f: アーム操作を中断させます[^nothing]
#### 0x4 レール系
0x40: レールを操作します [ L速度*, R速度*]
0x4f: レールを停止させます[^nothing]
#### 0x7 システム系
0x7f: エラー [ 0xff, 0xff ] -> コントローラーがつながってる場合赤く点滅させます

[^adj]: 値域int8_t:-128～127に対し、128を加算して(uint8_tに直し)データを渡します。
[^nothing]: データ欄はすべて0x00で埋まります。